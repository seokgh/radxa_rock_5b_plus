GPT 의 Protective MBR 은
GPT 영역을 보호하기 위함으로 사용되는데
쉽게 말하면 MBR 영역을 읽고 처리하였던 툴이나 방식들이
GPT 영역인지 인식하지 못하고 다른 행동을 할까봐 형식적으로 남겨분 부분이다.

그래서 그런지 MBR 의 영역 512 bytes 에 가득했던 정보들이 GPT 에서는 데이터가 없다.



MBR DOS partition table 의
시작은 DEC 446, HEX 1BE 에서 시작되는데
partition type 을 가르키는 offset 5byte (DEC 450, HEX 1C2) 위치에서는 'EE' 라는 형태를 갖는다.

'EE' 는 Indication that this legacy MBR is followed by an EFI header
즉, EFI 를 사용한다는 것을 알리는 역활을 한다.

MBR영역에서는 윈도우라면 07, 리눅스라면 83 의 partition type 을 보여줄 것이다.

# dd if=/dev/sda count=1 bs=512|xxd

MBR:
00001b0: 0000 0000 0000 0000 6f91 0b00 0000 8020  ........o......
00001c0: 2100 83aa 2882 0008 0000 0000 2000 00aa  !...(....... ...
              ^^

GPT:
00001b0: 0000 0000 0000 0000 0000 0000 0000 0000  ................
00001c0: 0200 eefe ffff 0100 0000 ffff 7f02 0000  ................
              ^^


구조에서도 알 수 있듯이
GPT 의 경우 파티션 테이블 및 엔트리 정보를 백업한다.
이로 인해 MBR이 손상되었을 때 보다 쉽게 GPT 영역을 복구 할 수 있게 된다.



--------------------------------------------------------------------------------
MBRとGPTの概要
--------------------------------------------------------------------------------
MBRとGPTについて知っていますか？
HDDやSSDを初期化/フォーマットする際に、MBR/GPTのどちらかを選択する必要があり、
選択したOptionに従って、初期化・フォーマットを実行します。


--------------------------------------------------------------------------------
MBRとGPTのどち
--------------------------------------------------------------------------------
MBR（マスターブートレコード）は1983年3月に登場した技術で、今現在も使われています。
古いパーティション方式のもので、標準BIOSパーティションテーブルを使用しているものです。

それに対して、

GPT（GUIDパーティションテーブル）は1990年後半にUEFI（Unified Extensible Firmware Interface）の
一部として開発された新しいパーティション方式のものです。
少しずつ普及、現在もMBRと並行して使われています。

--------------------------------------------------------------------------------
MBRとGPTの違い
--------------------------------------------------------------------------------
MBRとGPTはどういった違いがありますか？


							|MBR												|GPT
----------------------------+---------------------------------------------------+-------------------------------------------------------------------
パーティションスタイル		|                                               	|
----------------------------+---------------------------------------------------+-------------------------------------------------------------------
互換性						|                                               	|
----------------------------+---------------------------------------------------+-------------------------------------------------------------------
ディスク容量				|最大2TBまでしか認識できない                      	|2TB以上の大容量のディスクをサポート
----------------------------+---------------------------------------------------+-------------------------------------------------------------------
パーティション数			|最大4つのプライマリパーティションが作成できる      |ほぼ無制限のパーティションが作成できる(Windowsでは最大128個)
----------------------------+---------------------------------------------------+-------------------------------------------------------------------
ブートモード				|レガシBIOSモードでOSを起動する時                   |UEFIブートモードに対応しているマザーボードでのみOS（64ビット版）が起動可能
							|MBRパーティションである必要がある                  |
----------------------------+---------------------------------------------------+-------------------------------------------------------------------
パーティション管理仕組み	|パーティションとブート情報をまとめて格納           |ディスク全体の情報の複数のコピー＆CRC検査の情報を保存
							|データの一部が上書き/破壊された場合、トラブルが発生|（より堅牢で、破損した情報を復元）
----------------------------+---------------------------------------------------+-------------------------------------------------------------------











MBRとGPTの基本構造
--------------------------------------------------------------------------------
MBR:
	MBRディスクやGPTディスクの第1セクターもMBRセクターです。
	このセクターのサイズは512バイトで、

		1. マスターブートコード（446バイト）、
		2. ディスクパーティションテーブル（DPT、64バイト）、
		3. ブートシグネチャ（2バイト）

	が含まれています。
	これらの情報は、現在使用されているディスクの構成を記録しています。

	そのため、このセクターに損傷があると、このディスクは使用できなくなります。

	この場合、MBRを再構築する必要があります。


GPT:
	GPTディスクの第1セクターは、MBRセクターでもあります。

		GPTディスクの「保護MBR」は、MBRディスクとは異なり、
		MBRディスクのみをサポートするツールがGPTパーティションを破壊することを防ぐ役割を果たします。

	GPT ディスクの第2セクターには、プライマリGUIDパーティションテーブルヘッダーがあります。
		プライマリGUIDパーティションテーブルヘッダーには、
			パーティションテーブルを構成するパーティションエントリの位置とサイズ、
			および巡回冗長検査（CRC32）のチェックサムに関する情報が含まれています。

	GPTディスクの最後にプライマリGPTヘッダーとパーティションエントリを自動的にBackupするバックアップGUIDパーティションテーブルヘッダーがあります。

	これにより、GPTディスクはMBRディスクよりも安全性・信頼性が高く、
	GPTヘッダーやパーティションテーブルが破損しても、これらのBackupからデータを復元することができます。

